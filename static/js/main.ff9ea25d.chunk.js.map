{"version":3,"sources":["hooks/contextHook/index.js","hooks/httpHook/index.js","components/WeatherCard/index.js","components/WeatherIcon/index.js","components/DayWeather/index.js","util/dateFormatter.js","components/WeatherWindow/index.js","components/SearchBar/index.js","containers/Main/index.js","App.js","index.js"],"names":["Context","React","createContext","useHttp","useState","loading","setLoading","error","setError","success","setSuccess","request","useCallback","url","a","method","data","response","axios","then","res","catch","err","console","clearError","useStyles","makeStyles","root","maxWidth","media","height","WeatherCard","handleOpen","city","country","name","coordinates","temperature","temp_min","temp_max","weather","item","setItem","classes","key","useContext","openWindow","Object","keys","length","getData","targetItem","sys","coord","main","temp","toFixed","useEffect","Card","className","CardActionArea","onClick","Skeleton","variant","width","CardContent","Typography","gutterBottom","component","color","Grid","description","CardActions","Button","size","Snackbar","open","autoHideDuration","anchorOrigin","vertical","horizontal","Alert","severity","WeatherIcon","day","DayWeather","dayItem","setDayItem","formatDate","dayjs","relativeTime","calendar","weekday","utc","number","Date","add","format","useTime","dt","min","max","icon","ListItem","role","undefined","dense","button","ListItemIcon","ListItemText","primary","secondary","WeatherWindow","handleClose","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","current","daily","lat","lon","slice","Dialog","fullWidth","onClose","DialogTitle","DialogContent","Divider","List","map","DialogActions","autoFocus","withStyles","search","position","borderRadius","shape","backgroundColor","fade","palette","light","marginLeft","marginBottom","spacing","up","searchIcon","padding","pointerEvents","display","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","confirmForm","onChange","value","setValue","onSubmit","e","preventDefault","InputBase","placeholder","target","input","inputProps","type","container","paddingTop","searchTool","Main","opened","setOpened","activeItem","setActiveItem","cities","setCities","handleClickOpen","checkCity","inputValue","findIndex","toLowerCase","newArr","Container","Toolbar","SearchBar","xs","sm","md","message","App","defaults","baseURL","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ff9ea25d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const Context = React.createContext();","import { useState, useCallback } from 'react';\r\nimport axios from 'axios';\r\nexport const useHttp = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState(false);\r\n  const request = useCallback(async (url, method = \"get\", data = null) => {\r\n    setLoading(true);\r\n    let response = null;\r\n    await axios({\r\n      url, method, data\r\n    })\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setSuccess(true);\r\n        response = res.data;\r\n      })\r\n      .catch((err) => {\r\n        console.error(err.response.data);\r\n        setLoading(false);\r\n        setError(err.response.data)\r\n      })\r\n    return response;\r\n  }, [])\r\n\r\n  const clearError = () => {\r\n    setError('');\r\n    setSuccess(false);\r\n  };\r\n\r\n  return {\r\n    loading, request, error, clearError, success\r\n  }\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../hooks/contextHook';\r\nimport { useHttp } from '../../hooks/httpHook';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\n//MUI\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 140,\r\n  },\r\n});\r\n\r\nconst WeatherCard = ({ handleOpen, city }) => {\r\n  const [item, setItem] = useState({\r\n    country: '',\r\n    name: '',\r\n    coordinates: {},\r\n    temperature: '',\r\n    temp_min: '',\r\n    temp_max: '',\r\n    weather: {}\r\n  });\r\n  const classes = useStyles();\r\n  const { key } = useContext(Context);\r\n  const { request, loading, error } = useHttp();\r\n\r\n  const openWindow = () => {\r\n    if (Object.keys(item).length) {\r\n      handleOpen(item);\r\n    }\r\n    else return;\r\n  }\r\n\r\n  const getData = async () => {\r\n    const data = await request(`weather?q=${city}&units=metric&appid=${key}`, 'get');\r\n    if (data) {\r\n      const targetItem = {\r\n        name: `${data.name}, ${data.sys.country}`,\r\n        coordinates: data.coord,\r\n        temperature: data.main.temp.toFixed(0),\r\n        temp_min: data.main.temp_min.toFixed(0),\r\n        temp_max: data.main.temp_max.toFixed(0),\r\n        weather: data.weather\r\n      }\r\n      setItem(targetItem);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <Card className={classes.root}>\r\n        <CardActionArea onClick={openWindow}>\r\n          {\r\n            loading ? <Skeleton variant=\"rect\" width=\"100%\" height={200} /> : (\r\n              <CardContent>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  {item.name}\r\n                </Typography>\r\n                <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                  Day {item.temp_max}°C - Night {item.temp_min}°C\r\n                </Typography>\r\n                <Grid className={classes.main}>\r\n                  <Typography variant=\"h2\" color=\"textSecondary\">\r\n                    {item.temperature}°C\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                    {item.weather.description}\r\n                  </Typography>\r\n                </Grid>\r\n              </CardContent>\r\n            )\r\n          }\r\n        </CardActionArea>\r\n        <CardActions>\r\n          <Button onClick={openWindow} size=\"small\" color=\"primary\">\r\n            More\r\n        </Button>\r\n        </CardActions>\r\n      </Card>\r\n      <Snackbar\r\n        open={!!error}\r\n        autoHideDuration={2500}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert\r\n          severity=\"error\">An error occurred, please try again later</Alert>\r\n      </Snackbar>\r\n    </>\r\n\r\n  );\r\n}\r\n\r\nexport default WeatherCard","import React from 'react';\r\n\r\nconst WeatherIcon = ({ description, day = \"sunny\" }) => {\r\n  if (description === \"Clear\") {\r\n    if (day) {\r\n      return (\r\n        <div className=\"Clear\">\r\n          <i className=\"fas fa-sun\"></i>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div className=\"night\">\r\n          <i className=\"fas fa-moon\"></i>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  else if (description === \"Drizzle\") {\r\n    return (\r\n      <div className=\"Drizzle\">\r\n        <i className=\"fas fa-cloud-rain\"></i>\r\n      </div>\r\n    )\r\n  }\r\n  else if (description === \"Rain\") {\r\n    return (\r\n      <div className=\"Rain\">\r\n        <i className=\"fas fa-cloud-showers-heavy\"></i>\r\n      </div>\r\n    )\r\n  }\r\n  else if (description === \"Thunderstorm\") {\r\n    return (\r\n      <div className=\"Thunderstorm\">\r\n        <i className=\"fas fa-cloud-showers-heavy\"></i>\r\n      </div>\r\n    )\r\n  }\r\n  else if (description === \"Clouds\") {\r\n    if (day) {\r\n      return (\r\n        <div className=\"Clouds-morning\">\r\n          <i className=\"fas fa-cloud\"></i>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div className={description}>\r\n          <i className=\"fas fa-cloud\"></i>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n  else {\r\n    return (\r\n      <div className={description}>\r\n        <i className=\"fas fa-smog\"></i>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default WeatherIcon;","import React, { useEffect, useState } from 'react';\r\nimport { useTime } from '../../util/dateFormatter';\r\nimport WeatherIcon from '../WeatherIcon';\r\n//MUI\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport WbSunnyIcon from '@material-ui/icons/WbSunny';\r\n\r\nconst DayWeather = ({ day }) => {\r\n  const [dayItem, setDayItem] = useState({});\r\n  const { formatDate } = useTime();\r\n\r\n  useEffect(() => {\r\n    if (day.dt) {\r\n      setDayItem({\r\n        min: day.temp.min.toFixed(0),\r\n        max: day.temp.max.toFixed(0),\r\n        description: day.weather[0].description,\r\n        icon: day.weather[0].main,\r\n      })\r\n    }\r\n  }, [day])\r\n\r\n  return (\r\n    <ListItem role={undefined} dense button >\r\n      {day.dt ? (\r\n        <>\r\n          <ListItemIcon>\r\n            <WeatherIcon description={dayItem.icon} />\r\n          </ListItemIcon>\r\n          <ListItemText primary={`${formatDate(day.dt)}, ` + dayItem.max + '/' + dayItem.min + '°C'} secondary={dayItem.description} />\r\n        </>\r\n      ) : null}\r\n    </ListItem>\r\n  )\r\n}\r\n\r\nexport default DayWeather\r\n","import * as dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport 'dayjs/locale/ru';\r\nimport utc from 'dayjs/plugin/utc';\r\nimport calendar from 'dayjs/plugin/calendar';\r\nimport weekday from 'dayjs/plugin/weekday'\r\n\r\nexport const useTime = () => {\r\n  dayjs.extend(relativeTime);\r\n  dayjs.extend(calendar);\r\n  dayjs.extend(weekday)\r\n  dayjs.extend(utc);\r\n  dayjs.locale('en');\r\n\r\n  const formatDate = (number) => {\r\n    return dayjs(new Date()).add(number, 's').format('ddd, MMM-M')\r\n  }\r\n\r\n  return {\r\n    formatDate,\r\n  }\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../hooks/contextHook';\r\nimport { useHttp } from '../../hooks/httpHook';\r\nimport DayWeather from '../DayWeather';\r\n//MUI\r\nimport List from '@material-ui/core/List';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nconst WeatherWindow = ({ handleClose, open, city }) => {\r\n  const theme = useTheme();\r\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n  const { request, loading, error } = useHttp();\r\n  const { key } = useContext(Context);\r\n  const [item, setItem] = useState({\r\n    current: {\r\n      temperature: 0,\r\n      temp_min: 0,\r\n      temp_max: 0\r\n    },\r\n    daily: {\r\n\r\n    }\r\n  });\r\n\r\n  const getData = async () => {\r\n    const data = await request(`onecall?lat=${city.coordinates.lat}&lon=${city.coordinates.lon}&exclude=hourly,minutely&units=metric&appid=${key}`, 'get');\r\n    if (data) {\r\n      setItem({\r\n        daily: data.daily.slice(0, data.daily.length - 1),\r\n        current: city\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (city.name) {\r\n      getData()\r\n    }\r\n  }, [city])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        fullWidth\r\n        maxWidth=\"sm\"\r\n        fullScreen={fullScreen}\r\n        open={open}\r\n        onClose={handleClose}\r\n      >\r\n        <DialogTitle>{city.name}</DialogTitle>\r\n        <DialogContent>\r\n          {\r\n            loading ? <Skeleton width={'100%'} height={700} /> : (\r\n              <>\r\n                <Grid>\r\n                  <Typography variant=\"h2\" color=\"textSecondary\">\r\n                    {item.current.temperature}°C\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                    Day {item.current.temp_max}°C - Night {item.current.temp_min}°C\r\n                </Typography>\r\n                </Grid>\r\n                <Divider />\r\n                <Grid>\r\n                  <Typography variant=\"h5\">7-day forecast</Typography>\r\n                  <List>\r\n                    {\r\n                      item.daily.length ? item.daily.map((day) => {\r\n                        return <DayWeather key={day.dt} day={day} />\r\n                      }) : null\r\n                    }\r\n                  </List>\r\n                </Grid>\r\n              </>\r\n            )\r\n          }\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button autoFocus onClick={handleClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WeatherWindow","import React, { useState, useEffect } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { fade } from '@material-ui/core/styles';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nconst styles = theme => ({\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.primary.light, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.primary.light, 0.25),\r\n    },\r\n    marginLeft: 0,\r\n    marginBottom: theme.spacing(1),\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(1),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: '12ch',\r\n      '&:focus': {\r\n        width: '20ch',\r\n      },\r\n    },\r\n  },\r\n  confirmForm: {\r\n    display: 'flex',\r\n    alignItems: 'flex-start',\r\n  }\r\n});\r\n\r\nconst SearchInput = ({ classes, onChange }) => {\r\n  const [value, setValue] = useState('');\r\n\r\n  const submitValue = (e) => {\r\n    e.preventDefault();\r\n    onChange(value);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submitValue} className={classes.confirmForm}>\r\n      <div className={classes.search}>\r\n        <div className={classes.searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n        <InputBase\r\n          placeholder=\"Поиск...\"\r\n          onChange={(e) => setValue(e.target.value)}\r\n          classes={{\r\n            root: classes.inputRoot,\r\n            input: classes.inputInput,\r\n          }}\r\n          inputProps={{ 'aria-label': 'поиск' }}\r\n        />\r\n      </div>\r\n      <Button type=\"submit\">Search</Button>\r\n    </form>\r\n  )\r\n}\r\n\r\n\r\nexport default withStyles(styles)(SearchInput)\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { Context } from '../../hooks/contextHook';\r\nimport { useHttp } from '../../hooks/httpHook';\r\nimport WeatherCard from '../../components/WeatherCard';\r\nimport WeatherWindow from '../../components/WeatherWindow';\r\nimport SearchBar from '../../components/SearchBar';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\n//MUI\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(25)\r\n  },\r\n  searchTool: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between'\r\n  },\r\n}))\r\n\r\nconst Main = () => {\r\n  const classes = useStyles();\r\n  const [opened, setOpened] = useState(false);\r\n  const [value, setValue] = useState('');\r\n  const [activeItem, setActiveItem] = useState({});\r\n  const { request, error } = useHttp();\r\n  const { key } = useContext(Context);\r\n  const [cities, setCities] = useState(['Moscow', 'London', 'New York', 'Beijing']);\r\n\r\n  const handleClickOpen = (item) => {\r\n    setActiveItem(item)\r\n    setOpened(true);\r\n  };\r\n\r\n  const checkCity = async (inputValue) => {\r\n    const data = await request(`weather?q=${inputValue}&units=metric&appid=${key}`, 'get');\r\n    if (data) {\r\n      let alreadyInList = cities.findIndex(item => item.toLowerCase() === inputValue.toLowerCase());\r\n      if (alreadyInList + 1) {\r\n        return;\r\n      }\r\n      let newArr = [...cities, inputValue];\r\n      setCities(newArr)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (value) {\r\n      checkCity(value);\r\n    }\r\n  }, [value])\r\n\r\n  const handleClose = () => {\r\n    setOpened(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <Grid>\r\n      <WeatherWindow city={activeItem} open={opened} handleClose={handleClose} />\r\n      <Container maxWidth=\"md\" className={classes.container}>\r\n        <Toolbar className={classes.searchTool}>\r\n          <SearchBar onChange={setValue} />\r\n        </Toolbar>\r\n        <Grid container spacing={2}>\r\n          {\r\n            cities.map(item => {\r\n              return (\r\n                <Grid key={item} item xs={12} sm={6} md={3}>\r\n                  <WeatherCard city={item} handleOpen={handleClickOpen} />\r\n                </Grid>\r\n              )\r\n            })\r\n          }\r\n        </Grid>\r\n      </Container>\r\n      <Snackbar\r\n        open={!!error}\r\n        autoHideDuration={2500}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}\r\n      >\r\n        <Alert\r\n          severity=\"error\">{error.message}</Alert>\r\n      </Snackbar>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React from 'react';\r\nimport axios from 'axios';\r\nimport { Context } from './hooks/contextHook';\r\nimport Main from './containers/Main';\r\n\r\nconst apiKey = '433b880a1dcad0ae0eb12634ab640f6b';\r\nfunction App() {\r\naxios.defaults.baseURL = 'https://api.openweathermap.org/data/2.5/';\r\n\r\n  return (\r\n    <Context.Provider value={{ key: apiKey }}>\r\n      <Main />\r\n    </Context.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n); \r\n"],"sourceRoot":""}