(this["webpackJsonpalt-weather"]=this["webpackJsonpalt-weather"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),o=a(38),i=a.n(o),m=r.a.createContext(),s=a(13),u=a(18),d=a.n(u),p=a(24),f=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),l=Object(s.a)(c,2),o=l[0],m=l[1],u=Object(n.useState)(!1),f=Object(s.a)(u,2),E=f[0],h=f[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,c,l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:"get",n=l.length>2&&void 0!==l[2]?l[2]:null,r(!0),c=null,e.next=6,i()({url:t,method:a,data:n}).then((function(e){r(!1),h(!0),c=e.data})).catch((function(e){console.error(e.response.data),r(!1),m(e.response.data)}));case 6:return e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:function(){m(""),h(!1)},success:E}},E=a(148),h=a(146),b=a(147),y=a(151),v=a(144),x=a(149),O=a(152),g=a(35),j=a(150),w=a(163),C=a(164),k=Object(v.a)({root:{maxWidth:345},media:{height:140}}),S=function(e){var t=e.handleOpen,a=e.city,c=Object(n.useState)({country:"",name:"",coordinates:{},temperature:"",temp_min:"",temp_max:"",weather:{}}),l=Object(s.a)(c,2),o=l[0],i=l[1],u=k(),v=Object(n.useContext)(m).key,S=f(),N=S.request,_=S.loading,F=S.error,D=function(){Object.keys(o).length&&t(o)},z=function(){var e=Object(p.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("weather?q=".concat(a,"&units=metric&appid=").concat(v),"get");case 2:(t=e.sent)&&(n={name:"".concat(t.name,", ").concat(t.sys.country),coordinates:t.coord,temperature:t.main.temp.toFixed(0),temp_min:t.main.temp_min.toFixed(0),temp_max:t.main.temp_max.toFixed(0),weather:t.weather},i(n));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){z()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{className:u.root},r.a.createElement(b.a,{onClick:D},_?r.a.createElement(E.a,{variant:"rect",width:"100%",height:200}):r.a.createElement(x.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},o.name),r.a.createElement(g.a,{variant:"subtitle1",color:"textSecondary"},"Day ",o.temp_max,"\xb0C - Night ",o.temp_min,"\xb0C"),r.a.createElement(j.a,{className:u.main},r.a.createElement(g.a,{variant:"h2",color:"textSecondary"},o.temperature,"\xb0C"),r.a.createElement(g.a,{variant:"subtitle1",color:"textSecondary"},o.weather.description)))),r.a.createElement(y.a,null,r.a.createElement(O.a,{onClick:D,size:"small",color:"primary"},"More"))),r.a.createElement(C.a,{open:!!F,autoHideDuration:2500,anchorOrigin:{vertical:"bottom",horizontal:"right"}},r.a.createElement(w.a,{severity:"error"},"An error occurred, please try again later")))},N=a(22),_=a(59),F=a.n(_),D=(a(98),a(60)),z=a.n(D),M=a(61),q=a.n(M),R=a(62),W=a.n(R),B=function(e){var t=e.description,a=e.day,n=void 0===a?"sunny":a;return console.log(n),"Clear"===t?n?(console.log("Should display"),r.a.createElement("div",{className:"Clear"},r.a.createElement("i",{class:"fas fa-sun"}))):r.a.createElement("div",{className:"night"},r.a.createElement("i",{class:"fas fa-moon"})):"Drizzle"===t?r.a.createElement("div",{className:"Drizzle"},r.a.createElement("i",{class:"fas fa-cloud-rain"})):"Rain"===t?r.a.createElement("div",{className:"Rain"},r.a.createElement("i",{class:"fas fa-cloud-showers-heavy"})):"Thunderstorm"===t?r.a.createElement("div",{className:"Thunderstorm"},r.a.createElement("i",{class:"fas fa-cloud-showers-heavy"})):"Clouds"===t?n?r.a.createElement("div",{className:"Clouds-morning"},r.a.createElement("i",{class:"fas fa-cloud"})):r.a.createElement("div",{className:t},r.a.createElement("i",{class:"fas fa-cloud"})):r.a.createElement("div",{className:t},r.a.createElement("i",{class:"fas fa-smog"}))},T=a(165),J=a(153),L=a(154),A=function(e){var t=e.day,a=Object(n.useState)({}),c=Object(s.a)(a,2),l=c[0],o=c[1],i=function(){N.extend(F.a),N.extend(q.a),N.extend(W.a),N.extend(z.a),N.locale("en");return{formatDate:function(e){return N(new Date).add(e,"s").format("ddd, MMM-M")}}}().formatDate;return Object(n.useEffect)((function(){t.dt&&o({min:t.temp.min.toFixed(0),max:t.temp.max.toFixed(0),description:t.weather[0].description,icon:t.weather[0].main})}),[t]),r.a.createElement(T.a,{role:void 0,dense:!0,button:!0},t.dt?r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,null,r.a.createElement(B,{description:l.icon})),r.a.createElement(L.a,{primary:"".concat(i(t.dt),", ")+l.max+"/"+l.min+"\xb0C",secondary:l.description})):null)},H=a(159),I=a(158),P=a(162),U=a(160),Y=a(157),G=a(156),K=a(155),Q=a(41),V=function(e){var t=e.handleClose,a=e.open,c=e.city,l=Object(Q.a)(),o=Object(K.a)(l.breakpoints.down("sm")),i=f(),u=i.request,h=i.loading,b=(i.error,Object(n.useContext)(m).key),y=Object(n.useState)({current:{temperature:0,temp_min:0,temp_max:0},daily:{}}),v=Object(s.a)(y,2),x=v[0],w=v[1],C=function(){var e=Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("onecall?lat=".concat(c.coordinates.lat,"&lon=").concat(c.coordinates.lon,"&exclude=hourly,minutely&units=metric&appid=").concat(b),"get");case 2:(t=e.sent)&&w({daily:t.daily.slice(0,t.daily.length-1),current:c});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c.name&&C()}),[c]),r.a.createElement("div",null,r.a.createElement(P.a,{fullWidth:!0,maxWidth:"sm",fullScreen:o,open:a,onClose:t},r.a.createElement(G.a,null,c.name),r.a.createElement(Y.a,null,h?r.a.createElement(E.a,{width:"100%",height:700}):r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,r.a.createElement(g.a,{variant:"h2",color:"textSecondary"},x.current.temperature,"\xb0C"),r.a.createElement(g.a,{variant:"subtitle1",color:"textSecondary"},"Day ",x.current.temp_max,"\xb0C - Night ",x.current.temp_min,"\xb0C")),r.a.createElement(I.a,null),r.a.createElement(j.a,null,r.a.createElement(g.a,{variant:"h5"},"7-day forecast"),r.a.createElement(H.a,null,x.daily.length?x.daily.map((function(e){return r.a.createElement(A,{key:e.dt,day:e})})):null)))),r.a.createElement(U.a,null,r.a.createElement(O.a,{autoFocus:!0,onClick:t,color:"primary"},"Close"))))},X=a(161),Z=Object(v.a)((function(e){return{container:{paddingTop:e.spacing(25)}}})),$=function(){var e=Z(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)({}),i=Object(s.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(["Moscow","London","New York","Beijing","Rome"]),p=Object(s.a)(d,2),f=p[0],E=(p[1],function(e){u(e),l(!0)});return r.a.createElement(j.a,null,r.a.createElement(V,{city:m,open:c,handleClose:function(){l(!1)}}),r.a.createElement(X.a,{maxWidth:"md",className:e.container},r.a.createElement(j.a,{container:!0,spacing:2},f.map((function(e){return r.a.createElement(j.a,{key:e,item:!0,xs:12,sm:6,md:3},r.a.createElement(S,{city:e,handleOpen:E}))})))))};var ee=function(){return i.a.defaults.baseURL="https://api.openweathermap.org/data/2.5/",r.a.createElement(m.Provider,{value:{key:"433b880a1dcad0ae0eb12634ab640f6b"}},r.a.createElement($,null))};a(99);l.a.render(r.a.createElement(ee,null),document.getElementById("root"))},71:function(e,t,a){e.exports=a(100)},99:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.ebf21a09.chunk.js.map